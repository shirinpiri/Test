@model perfumedecant.Models.Domains.Tbl_User
@using perfumedecant.Models.Domains

@{
    Layout = "~/Views/Shared/_DashboardUser.cshtml";
    PD_DB db = new PD_DB();
}

<!-- Main content -->
<section class="content">
    <div class="container-fluid">

        @if (ViewBag.result != null)
        {
            <div class="alert alert-danger" style="text-align:right">
                <a class="close" style="cursor: pointer;" onclick="$('.alert').hide()">×</a>
                @ViewBag.result
            </div>
        }

        <div class="add-box">
            <div class="card card-warning">
                <div class="card-header">
                    <h3 class="card-title"> پروفايل كاربر </h3>
                </div>
                <!-- /.card-header -->
                <div class="card-body">
                    @using (Html.BeginForm("ChangePassword", "DashboardUser", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        @Html.AntiForgeryToken()
                        @Html.ValidationSummary(true)
                      
                        <input type="hidden" name="id" value="@Model.User_ID" />

                        <div class="row">
                            <div class="col-md-3 col-sm-12 img-magnifier-container">
                                <img src="~/Content/Images/dashboard_images/user.png" class="img-circle elevation-2" alt="User Image" width="200" height="200">
                            </div>

                            <div class="col-md-9 col-sm-12">
                                <div class="detail-perfume-box1">

                                    <h3>@Model.User_NameFamily</h3>
                                    <div class="row">
                                        <div class="col-1">
                                            <i class="fa fa-map-marker" aria-hidden="true"> </i>
                                        </div>
                                        <div class="col-11">
                                            @if (Model.User_City_ID != null)
                                            {
                                                <p>@Model.Tbl_City.City_Title , @Model.Tbl_City.Tbl_State.State_Title </p>
                                            }
                                            else
                                            {
                                                <p></p>
                                            }
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-1">
                                            <i class="fa fa-envelope" aria-hidden="true"></i>
                                        </div>
                                        <div class="col-11">
                                            <p> @Model.User_Email </p>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-1">
                                            <i class="fa fa-phone" aria-hidden="true"></i>
                                        </div>
                                        <div class="col-11">
                                            <ul>
                                                <li>@Model.User_Tel</li>
                                                <li>@Model.User_Mobile</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row" style="padding-top:30px;">
                            <div class="col-10 mx-auto">
                                <ul class="nav nav-tabs small" role="tablist">
                                    <li class="nav-item"><a id="moreInfo" class="nav-link active click-moreInfo" data-toggle="tab" href="#tab11" role="tab"> مشخصات تكميلي </a></li>
                                    <li class="nav-item ml-auto"><a id="changePass" class="nav-link click-changePass" data-toggle="tab" href="#tab22" role="tab"> تغيير پسورد </a></li>
                                </ul>
                                <div class="tab-content py-4">
                                    <div class="tab-pane active" id="tab11" role="tabpanel">
                                        <div class="detail-perfume-box1">

                                            <h3>@Model.User_NameFamily</h3>
                                            <p> جنسيت: <span> @Model.User_Gender </span> </p>
                                            <p>تاريخ تولد: <span> @Model.User_Birthday </span> </p>

                                            <p> كدملي: <span>@Model.User_NationalCode </span> </p>
                                            <p> كد پستي: <span> @Model.User_PostalCode </span> </p>
                                            <p> آدرس: <span> @Model.User_Address </span> </p>
                                        </div>
                                    </div>


                                    <div class="tab-pane click-changePass" id="tab22" role="tabpanel">
                                        <div class="row">
                                            <div class="col-md-6 col-sm-12">
                                                <div class="form-group">
                                                    @Html.LabelFor(model => model.User_Password, new { @class = "control-label" })<span class="red">*</span>
                                                    @Html.PasswordFor(model => model.User_Password, new { @class = "form-control", placeholder = "وارد کردن اطلاعات ..." })
                                                    <p class="red"> @Html.ValidationMessageFor(model => model.User_Password)</p>

                                                </div>
                                            </div>
                                            <div class="col-md-6 col-sm-12">
                                                <div style="text-align:right; margin-top:30px;">
                                                    <span id="length" class="invalid"></span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row text-center align-items-center">
                                            <div class="col-md-6 col-sm-12">
                                                <div class="form-group">
                                                    <label>تکرار کلمه عبور</label><span class="red">*</span>
                                                    <input type="password" id="confirm_password" name="confirm_password" class="form-control" placeholder="وارد کردن اطلاعات ...">
                                                </div>
                                            </div>
                                            <div class="col-md-6 col-sm-12">
                                                <div style="text-align:right; margin-top:30px;">
                                                    <span id='message'></span>
                                                </div>

                                            </div>
                                        </div>



                                        <input type="submit" value="ثبت" class="btn add-btn" disabled id="save" />

                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <!-- /.card-body -->
            </div>
        </div>
    </div><!--/. container-fluid -->
</section>
<!-- /.content -->
